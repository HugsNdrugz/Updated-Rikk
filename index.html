<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>My Nigga Rikk - Street Hustle</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div id="game-viewport" class="app-root">
        <!-- Splash Screen -->
        <section id="splash-screen" class="screen active" aria-label="Loading Game">
            <div class="content-wrapper">
                <h1 class="splash-title">My Nigga Rikk</h1>
                <p class="splash-tagline">Loading the Hustle...</p>
                <div class="loader"></div>
            </div>
        </section>

        <!-- Start Screen (Main Menu) -->
        <section id="start-screen" class="screen overlay-screen" aria-labelledby="start-screen-title">
            <div class="screen-content">
                <h1 id="start-screen-title">My Nigga Rikk</h1>
                <p class="screen-description">What Up doh!. Tonight, you're the connect. Buy low, sell high, and don't get burned. Can you make a killing before the night's over? You fuck around you gonna find out, you're in the game now.</p>
                <div class="button-group">
                    <button id="new-game-btn" class="game-button primary-action">Hit the Streets!</button>
                    <button id="continue-game-btn" class="game-button secondary-action hidden">Continue Hustle</button>
                </div>
            </div>
        </section>

        <!-- Game Screen -->
        <main id="game-screen" class="screen" role="main" aria-label="Main Game Area">
            <header id="top-hud" class="hud">
                <div class="hud-item stat-cash">
                    <span class="hud-icon" aria-hidden="true">üí∞</span>
                    <span class="hud-label">Stash:</span> $<span id="cash-display" class="hud-value">0</span>
                </div>
                <div class="hud-item stat-fiends">
                    <span class="hud-icon" aria-hidden="true">üóìÔ∏è</span>
                    <span class="hud-label">Fiends Left:</span> <span id="day-display" class="hud-value">10</span>
                </div>
                <div class="hud-item stat-heat">
                    <span class="hud-icon" aria-hidden="true">üî•</span>
                    <span class="hud-label">Heat:</span> <span id="heat-display" class="hud-value">0</span>
                </div>
                <div class="hud-item stat-cred"> <!-- NEW Street Cred -->
                    <span class="hud-icon" aria-hidden="true">üèÜ</span>
                    <span class="hud-label">Cred:</span> <span id="cred-display" class="hud-value">0</span>
                </div>
            </header>

            <div id="event-ticker-container"> <!-- NEW Event Ticker -->
                <p id="event-ticker">Word on the street: All quiet... for now.</p>
            </div>

            <div id="game-scene">
                <div id="knock-effect" class="hidden" aria-live="assertive">KNOCK! KNOCK!</div>

                <div id="rikk-phone-ui" class="phone-shell is-offscreen"> <!-- Start as offscreen -->
                    <!-- Physical buttons (decorative) -->
                    <div class="volume-btn"></div>
                    <div class="power-btn"></div>

                    <div class="screen">
                        <div class="wallpaper"></div>
                        <div class="notch">
                            <div class="camera"></div>
                            <div class="speaker"></div>
                        </div>
                        <div class="status-bar">
                            <div id="current-time-small-phone">12:34</div> <!-- Renamed to avoid conflict with a possible #current-time-small -->
                            <div class="status-icons">
                                <i class="fas fa-signal"></i>
                                <i class="fas fa-wifi"></i>
                                <i class="fas fa-battery-three-quarters"></i>
                            </div>
                        </div>
                        <div id="notification" style="display: none;"> <!-- Start hidden -->
                            <div class="notification-title">Notification</div>
                            <div class="notification-content">Sample notification text.</div>
                        </div>

                        <!-- Content Areas for different phone states -->
                        <div id="android-home-screen" class="phone-content-area hidden">
                            <div class="time-display" id="current-time-phone">00:00</div> <!-- Renamed -->
                            <div class="date-display" id="current-date-phone">Monday, January 1</div> <!-- Renamed -->
                            <!-- App Grid for Android Home -->
                            <div class="app-grid">
                                <div class="app-icon" data-action="messages"><i class="fas fa-envelope"></i><span class="app-label">Messages</span></div>
                                <div class="app-icon" data-action="inventory-app"><i class="fas fa-briefcase"></i><span class="app-label">StashApp</span></div> <!-- Example App for game inventory -->
                                <div class="app-icon" data-action="camera"><i class="fas fa-camera"></i><span class="app-label">Camera</span></div>
                                <div class="app-icon" data-action="music"><i class="fas fa-music"></i><span class="app-label">Music</span></div>
                                <!-- Add more apps as needed by script.js or for design -->
                            </div>
                        </div>

                        <div id="game-chat-view" class="phone-content-area hidden">
                            <header class="phone-header-game">
                                <button class="phone-back-button hidden" data-action="back-to-home"><i class="fas fa-arrow-left"></i></button>
                                <h3 id="phone-title-game">Street Talk</h3>
                            </header>
                            <div id="chat-container-game" class="phone-chat-body" role="log" aria-live="polite">
                                <!-- Chat messages will be dynamically inserted here by script.js -->
                            </div>
                            <footer id="choices-area-game" class="phone-footer-choices" role="toolbar" aria-label="Response Choices">
                                <!-- Choices buttons will be dynamically inserted here by script.js -->
                            </footer>
                        </div>

                        <div id="game-app-menu-view" class="phone-content-area hidden">
                            <header class="phone-header-game">
                                <button class="phone-back-button hidden" data-action="back-to-home"><i class="fas fa-arrow-left"></i></button>
                                <h3 id="phone-title-game-apps">Apps</h3>
                            </header>
                            <div id="phone-app-menu-game" class="app-grid"> <!-- Reusing app-grid style for consistency -->
                                <div class="app-icon" data-action="inventory-app"><i class="fas fa-briefcase"></i><span class="app-label">StashApp</span></div>
                                <div class="app-icon" data-action="messages"><i class="fas fa-envelope"></i><span class="app-label">Messages</span></div>
                                <!-- Add other game-specific apps -->
                            </div>
                        </div>

                        <!-- Dock -->
                        <div class="dock">
                            <div class="dock-icon" data-action="phone"><i class="fas fa-phone"></i></div>
                            <div class="dock-icon" data-action="messages"><i class="fas fa-comment"></i></div>
                            <div class="dock-icon" data-action="user"><i class="fas fa-user"></i></div>
                            <div class="dock-icon" data-action="compass"><i class="fas fa-compass"></i></div>
                        </div>

                        <!-- Home indicator -->
                        <div class="home-indicator"></div>
                    </div>
                </div>
                <div id="phone-docked-indicator" class="phone-docked-indicator hidden">
                    <i class="fas fa-mobile-alt"></i> <!-- Example icon -->
                </div>
            </div>

            <nav id="player-hub" class="player-controls" role="navigation" aria-label="Player Actions">
                <button id="open-inventory-btn" class="hub-button inventory-toggle">
                    <img src="assets/icons/backpack-icon.svg" alt="" class="button-icon" aria-hidden="true"/>
                    <span>Stash (<span id="inventory-count-display">0</span>)</span>
                </button>
                <button id="next-customer-btn" class="hub-button main-action next-turn" disabled>
                    <img src="assets/icons/next-icon.svg" alt="" class="button-icon" aria-hidden="true"/>
                    <span>Next Fiend</span>
                </button>
            </nav>
        </main>

        <!-- End Screen -->
        <section id="end-screen" class="screen overlay-screen" aria-labelledby="end-screen-title">
             <div class="screen-content">
                <h2 id="end-screen-title">The Night's Over!</h2>
                <div class="final-stats">
                    <p>You hustled for <span id="final-days-display" class="stat-value"></span> fiends.</p>
                    <p>Final Stash: $<span id="final-cash-display" class="stat-value"></span></p>
                    <p>Final Street Cred: <span id="final-cred-display" class="stat-value"></span></p> <!-- NEW -->
                </div>
                <p id="final-verdict-text" class="final-verdict"></p>
                <button id="restart-game-btn" class="game-button primary-action">Run it Back</button>
            </div>
        </section>

        <!-- Inventory Modal -->
        <div id="inventory-modal" class="modal-overlay hidden" aria-hidden="true">
            <div id="inventory-dialog" class="modal-content" role="dialog" aria-modal="true" aria-labelledby="inventory-modal-title" aria-describedby="inventory-modal-description">
                <header class="modal-header">
                    <h2 id="inventory-modal-title">Your Stash</h2>
                    <button class="close-modal-btn" aria-label="Close Stash">
                        <span aria-hidden="true">√ó</span>
                    </button>
                </header>
                <div id="inventory-modal-description" class="modal-body">
                    <div id="inventory-list" class="inventory-grid">
                    </div>
                </div>
                <footer class="modal-footer">
                    <p class="inventory-capacity">Capacity: <span id="modal-inventory-slots-display">0/0</span></p>
                </footer>
            </div>
        </div>
    </div>

    <!-- Audio Elements -->
    <audio id="door-knock-sound" src="assets/audio/door-knock.mp3" preload="auto"></audio>
    <audio id="cash-sound" src="assets/audio/cash-register.mp3" preload="auto"></audio>
    <audio id="denied-sound" src="assets/audio/denied.mp3" preload="auto"></audio>
    <audio id="chat-bubble-sound" src="assets/audio/chat-pop.mp3" preload="auto"></audio>

    <!-- DATA FILES FIRST -->
    <script src="data/data_items.js"></script>
    <script src="data/data_customers.js"></script>
    <script src="data/data_events.js"></script>
    <!-- HELPER/MANAGER SCRIPTS -->
    <script src="CustomerManager.js"></script>
    <!-- PHONE UI SCRIPT -->
    <script src="phone_ambient_ui.js"></script>
    <!-- MAIN SCRIPT LAST -->
    <script src="script.js"></script>
</body>
</html>