<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>My Nigga Rikk - Street Hustle</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div id="game-viewport" class="app-root">
        <!-- Splash Screen -->
        <section id="splash-screen" class="screen active" aria-label="Loading Game">
            <div class="content-wrapper">
                <h1 class="splash-title">My Nigga Rikk</h1>
                <p class="splash-tagline">Loading the Hustle...</p>
                <div class="loader"></div>
            </div>
        </section>

        <!-- Start Screen (Main Menu) -->
        <section id="start-screen" class="screen overlay-screen" aria-labelledby="start-screen-title">
            <div class="screen-content">
                <h1 id="start-screen-title">My Nigga Rikk</h1>
                <p class="screen-description">What Up doh!. Tonight, you're the connect. Buy low, sell high, and don't get burned. Can you make a killing before the night's over? You fuck around you gonna find out, you're in the game now.</p>
                <div class="button-group">
                    <button id="new-game-btn" class="game-button primary-action">Hit the Streets!</button>
                    <button id="continue-game-btn" class="game-button secondary-action hidden">Continue Hustle</button>
                </div>
            </div>
        </section>

        <!-- Game Screen -->
        <main id="game-screen" class="screen" role="main" aria-label="Main Game Area">
            <header id="top-hud" class="hud">
                <div class="hud-item stat-cash">
                    <span class="hud-icon" aria-hidden="true">üí∞</span>
                    <span class="hud-label">Stash:</span> $<span id="cash-display" class="hud-value">0</span>
                </div>
                <div class="hud-item stat-fiends">
                    <span class="hud-icon" aria-hidden="true">üóìÔ∏è</span>
                    <span class="hud-label">Fiends Left:</span> <span id="day-display" class="hud-value">10</span>
                </div>
                <div class="hud-item stat-heat">
                    <span class="hud-icon" aria-hidden="true">üî•</span>
                    <span class="hud-label">Heat:</span> <span id="heat-display" class="hud-value">0</span>
                </div>
                <div class="hud-item stat-cred"> <!-- NEW Street Cred -->
                    <span class="hud-icon" aria-hidden="true">üèÜ</span>
                    <span class="hud-label">Cred:</span> <span id="cred-display" class="hud-value">0</span>
                </div>
            </header>

            <div id="event-ticker-container"> <!-- NEW Event Ticker -->
                <p id="event-ticker">Word on the street: All quiet... for now.</p>
            </div>

            <div id="game-scene">
                <div id="knock-effect" class="hidden" aria-live="assertive">KNOCK! KNOCK!</div>

                <!-- Rikk's Phone UI -->
                <aside id="rikk-phone-ui" class="phone-container is-offscreen" role="complementary" aria-label="Customer Interaction Terminal">
                    <!-- Physical buttons (outside screen area) -->
                    <div class="volume-btn"></div>
                    <div class="power-btn"></div>

                    <!-- Screen Area -->
                    <div class="screen"> <!-- This is the inner screen element, not the main game screen -->
                        <div class="wallpaper"></div> <!-- Animated wallpaper effect -->

                        <!-- Notch always visible on the screen -->
                        <div class="notch">
                            <div class="camera"></div>
                            <div class="speaker"></div>
                        </div>

                        <!-- Status bar always visible on top of the screen -->
                        <div class="status-bar">
                            <div id="current-time-small">12:34</div>
                            <div class="status-icons">
                                <i class="fas fa-signal"></i>
                                <i class="fas fa-wifi"></i>
                                <i class="fas fa-battery-three-quarters"></i>
                            </div>
                        </div>

                        <!-- Android Home Screen Layer - visible when not in game chat -->
                        <div id="android-home-screen" class="phone-content-area hidden">
                            <div class="time-display" id="current-time">00:00</div>
                            <div class="date-display" id="current-date">Monday, January 1</div>
                            <div class="notification" id="notification">
                                <div class="notification-title"></div>
                                <div class="notification-content"></div>
                            </div>
                            <div class="app-grid">
                                <div class="app-icon" data-action="messages">
                                    <i class="fas fa-envelope"></i><div class="app-label">Messages</div>
                                </div>
                                <div class="app-icon" data-action="camera">
                                    <i class="fas fa-camera"></i><div class="app-label">Camera</div>
                                </div>
                                <div class="app-icon" data-action="music">
                                    <i class="fas fa-music"></i><div class="app-label">Music</div>
                                </div>
                                <div class="app-icon" data-action="maps">
                                    <i class="fas fa-map-marker-alt"></i><div class="app-label">Maps</div>
                                </div>
                                <div class="app-icon" data-action="calendar">
                                    <i class="fas fa-calendar"></i><div class="app-label">Calendar</div>
                                </div>
                                <div class="app-icon" data-action="clock">
                                    <i class="fas fa-clock"></i><div class="app-label">Clock</div>
                                </div>
                                <div class="app-icon" data-action="calculator">
                                    <i class="fas fa-calculator"></i><div class="app-label">Calculator</div>
                                </div>
                                <div class="app-icon" data-action="weather">
                                    <i class="fas fa-cloud-sun"></i><div class="app-label">Weather</div>
                                </div>
                                <div class="app-icon" data-action="photos">
                                    <i class="fas fa-photo-video"></i><div class="app-label">Photos</div>
                                </div>
                            </div>
                        </div>

                        <!-- Game Chat View Layer - visible when in chat -->
                        <div id="game-chat-view" class="phone-content-area hidden">
                            <header class="phone-header-game">
                                <button class="phone-back-button hidden" data-action="back-to-home">&lt;</button>
                                <h3 id="phone-title-game">Street Talk</h3>
                            </header>
                            <div id="chat-container-game" role="log" aria-live="polite">
                                <!-- Chat messages go here -->
                            </div>
                            <footer id="choices-area-game" role="toolbar" aria-label="Response Choices">
                                <!-- Choices buttons go here -->
                            </footer>
                        </div>
                        
                        <!-- Game App Menu View Layer - for future game specific apps -->
                        <div id="game-app-menu-view" class="phone-content-area hidden">
                            <header class="phone-header-game">
                                <button class="phone-back-button" data-action="back-to-home">&lt;</button>
                                <h3 id="phone-title-game-apps">Apps</h3>
                            </header>
                            <div id="phone-app-menu-game">
                                <!-- Game-specific app icons go here -->
                                <div class="app-icon" data-action="inventory">
                                    <i class="fas fa-box-open"></i><div class="app-label">Inventory</div>
                                </div>
                                <!-- Add more game apps if needed -->
                            </div>
                        </div>

                        <!-- Dock always visible on the screen, below the content layers -->
                        <div class="dock">
                            <div class="dock-icon" data-action="phone"><i class="fas fa-phone"></i></div>
                            <div class="dock-icon" data-action="messages"><i class="fas fa-comment"></i></div>
                            <div class="dock-icon" data-action="user"><i class="fas fa-user"></i></div>
                            <div class="dock-icon" data-action="compass"><i class="fas fa-compass"></i></div>
                        </div>

                        <!-- Home indicator always visible on the screen, below the dock -->
                        <div class="home-indicator"></div>
                    </div>
                </aside>

                <!-- Floating mini-phone icon when phone is hidden -->
                <div id="phone-docked-indicator" class="phone-docked-indicator hidden">
                    <i class="fas fa-mobile-alt"></i>
                </div>
            </div>

            <nav id="player-hub" class="player-controls" role="navigation" aria-label="Player Actions">
                <button id="open-inventory-btn" class="hub-button inventory-toggle">
                    <img src="assets/icons/backpack-icon.svg" alt="" class="button-icon" aria-hidden="true"/>
                    <span>Stash (<span id="inventory-count-display">0</span>)</span>
                </button>
                <button id="next-customer-btn" class="hub-button main-action next-turn" disabled>
                    <img src="assets/icons/next-icon.svg" alt="" class="button-icon" aria-hidden="true"/>
                    <span>Next Fiend</span>
                </button>
            </nav>
        </main>

        <!-- End Screen -->
        <section id="end-screen" class="screen overlay-screen" aria-labelledby="end-screen-title">
             <div class="screen-content">
                <h2 id="end-screen-title">The Night's Over!</h2>
                <div class="final-stats">
                    <p>You hustled for <span id="final-days-display" class="stat-value"></span> fiends.</p>
                    <p>Final Stash: $<span id="final-cash-display" class="stat-value"></span></p>
                    <p>Final Street Cred: <span id="final-cred-display" class="stat-value"></span></p> <!-- NEW -->
                </div>
                <p id="final-verdict-text" class="final-verdict"></p>
                <button id="restart-game-btn" class="game-button primary-action">Run it Back</button>
            </div>
        </section>

        <!-- Inventory Modal -->
        <div id="inventory-modal" class="modal-overlay hidden" aria-hidden="true">
            <div id="inventory-dialog" class="modal-content" role="dialog" aria-modal="true" aria-labelledby="inventory-modal-title" aria-describedby="inventory-modal-description">
                <header class="modal-header">
                    <h2 id="inventory-modal-title">Your Stash</h2>
                    <button class="close-modal-btn" aria-label="Close Stash">
                        <span aria-hidden="true">√ó</span>
                    </button>
                </header>
                <div id="inventory-modal-description" class="modal-body">
                    <div id="inventory-list" class="inventory-grid">
                    </div>
                </div>
                <footer class="modal-footer">
                    <p class="inventory-capacity">Capacity: <span id="modal-inventory-slots-display">0/0</span></p>
                </footer>
            </div>
        </div>
    </div>

    <!-- Audio Elements -->
    <audio id="door-knock-sound" src="assets/audio/door-knock.mp3" preload="auto"></audio>
    <audio id="cash-sound" src="assets/audio/cash-register.mp3" preload="auto"></audio>
    <audio id="denied-sound" src="assets/audio/denied.mp3" preload="auto"></audio>
    <audio id="chat-bubble-sound" src="assets/audio/chat-pop.mp3" preload="auto"></audio>

    <!-- DATA FILES FIRST -->
    <script src="phone_ambient_ui.js" type="module"></script>
    <script src="data/data_items.js"></script>
    <script src="data/data_customers.js"></script>
    <script src="data/data_events.js"></script>
    <!-- HELPER/MANAGER SCRIPTS -->
    <script src="CustomerManager.js"></script>
    <!-- PHONE UI SCRIPT -->
   
    <!-- MAIN SCRIPT LAST -->
    <script type="module" src="script.js"></script>
</body>
</html>